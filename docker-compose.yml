version: '3.7'

services:
  python: &btc_monitor
    image: leandro2r/btc_monitor:latest-python
    privileged: true
    devices:
      - /dev/snd:/dev/snd
    volumes:
      - ./python:/home/btc_monitor
      - ./python/extras/btc_monitor:/etc/btc_monitor
    # environment:
    #   - API=http://watcher.foxbit.com.br/api/Ticker?exchange=Foxbit
    #   - CONFIG_FILE=/etc/btc_monitor/btc_monitor.yml
    #   - LOG_PATH=/var/log/btc_monitor/run.log
    #   - SOUND_FILE=/opt/btc_monitor/media/alarm.mp3
    entrypoint: "tail -f /dev/null"
    # command: ["-v", "1000", "-a", "-m"]

  shell:
    <<: *btc_monitor
    image: leandro2r/btc_monitor:latest-shell
    volumes:
      - ./shell:/home/btc_monitor
      - ./shell/extras/btc_monitor:/etc/btc_monitor
    # command: ["-v", "1000", "-a", "-c", "red"]
